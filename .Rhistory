install.packages(c("conflicted", "ctv", "hrbrthemes"))
holepunch::write_compendium_description()
holepunch::write_dockerfile()
holepunch::generate_badge()
holepunch::build_binder()
holepunch::build_binder()
holepunch::generate_badge()
holepunch::generate_badge()
library(tidyverse)
pkg_trees <- readRDS("pkg_trees.rds")
pkg_trees <- readRDS("../data/pkg_trees.rds")
pkg_trees <- readRDS("analysis/data/pkg_trees.rds")
pkg_trees <- readRDS("analysis/data/raw_data/pkg_trees.rds")
cran_pkg_names <- readRDS("analysis/data/raw_data/cran_pkg_names.rds")
# drop the errors
good_ones <- transpose(pkg_trees)$result
# how many?
length(good_ones)
cran_repos <- readRDS("analysis/data/raw_data/cran_repos.rds")
cran_repos
cran_repos <- readRDS("analysis/data/raw_data/pkg_trees.rds")
pkg_trees <- readRDS("analysis/data/raw_data/pkg_trees.rds")
pkg_trees
library(tidyverse)
cran_pkg_names <- readRDS("analysis/data/raw_data/cran_pkg_names.rds")
# drop the errors
good_ones <- transpose(pkg_trees)$result
# how many?
length(good_ones)
# get list of dataframes of files for each pkg
x <- map(good_ones, 3, 'tree') %>%
map(~map_df(.x, ~.x)) %>%
set_names(cran_pkg_names)
good_ones
x
# get view metadata
tv <- available.views() # this takes a while
library(ctv)
# get view metadata
tv <- available.views() # this takes a while
# package list
dat <- tv %>%
transpose()
# tag with taskview identifier and bind in one df
taskview_pkg_id <- dat %>%
as_tibble() %>%
mutate(pkg = map2(name, packagelist, .f = function(x, y){
y %>%
mutate(taskview = x,
no_pkgs_in_tv = nrow(y))
})) %>%
pluck("pkg") %>%
bind_rows() %>%
rename(taskview_core = core)
cran_pkg_names
# subset pkgs in task views
taskview_pkg_names <-  cran_pkg_names[(cran_pkg_names) %in% taskview_pkg_id$name]
taskview_pkg_names
32.5/40.5*15
32.5/40.5*30
33.5/40.5*30
10^4
10 * 10 * 10 * 10
